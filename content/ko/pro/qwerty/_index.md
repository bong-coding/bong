---
title: C++ 주소록
date: 2021-12-10
---

### https://github.com/bong-coding/Compiler

# Lex기반 C언어 미니 컴파일러

**자료형과 연산자와 그외 기본적인 연산을 토큰으로 분석** 등 각 토큰(Token)의 종류와 내용을 출력
**중첩 주석을 토큰을 분석해서 컴파일 해줍니다.** 특히 중첩 주석과 범위 연산자(..)를 정확하게 처리

---

## 핵심 기능

### 중첩된 주석 처리

Lex의 `start condition` 기능을 활용하여 **중첩 주석**을 정확하게 지원합니다.

| 조건     | 처리 내용                                           |
|----------|-----------------------------------------------------|
| `/*`     | `Comment` 모드 진입, `depth` 값을 1 증가             |
| `*/`     | `depth` 값을 1 감소, `depth`가 0이 되면 `Normal` 모드로 전환 |
| 기타 문자 | `Comment` 모드에서는 무시됨                         |

- 프로그램은 `main()` 함수에서 `BEGIN Normal;`로 시작합니다.
- `Comment` 모드에서는 `/*`, `*/` 외의 입력은 모두 무시됩니다.
- `depth`를 활용해 중첩된 주석 구조를 정확히 인식하고 처리합니다.

### `..` 연산자 처리

`1..5`와 같이 연속된 점(`.`)을 **범위 연산자(`..`)** 로 인식합니다.

- Lex의 **Lookahead 기능**(`/` 연산자 사용)을 이용하여 `. .` 연산자를 감지합니다.
- 실수(`float`) 리터럴인 `1.5`와 구분되도록 구현합니다.

예: `1..5` 입력 시 다음과 같이 토큰화됩니다:

## 📥 Input

- 중첩된 주석 (`/* ... /* ... */ ... */`)
- 범위 연산자 `..` (예: `1..5`)


예시 입력:

```c
/************************
/* nested comments */
************************/
struct _point {
  float x, y, z;
  int color;
} point[20];

struct _line {
  struct _point *p[2];
  int color;
  float meter = 0.5;
} line[20];
1..50

```
## 📤 Output

각 토큰에 대해 다음과 같은 정보를 출력합니다:

- **토큰 종류**: `KEY`, `ID`, `OP`, `INT`, ...
- **Lexeme**: 해당 토큰이 실제로 어떤 문자열인지 출력

---

## 컴파일 및 실행 방법

**컴파일**
   ```bash
   ./subc.l test.c



